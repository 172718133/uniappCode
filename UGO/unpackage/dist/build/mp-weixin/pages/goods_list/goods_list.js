(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods_list/goods_list"],{"1dfa":function(t,o,e){"use strict";e.r(o);var n=e("2a40"),s=e.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){e.d(o,t,(function(){return n[t]}))}(a);o["default"]=s.a},"219d":function(t,o,e){"use strict";(function(t,o){var n=e("4ea4");e("2793");n(e("66fd"));var s=n(e("893b"));t.__webpack_require_UNI_MP_PLUGIN__=e,o(s.default)}).call(this,e("bc2e")["default"],e("543d")["createPage"])},"2a40":function(t,o,e){"use strict";(function(t){var n=e("4ea4");Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var s=n(e("2eee")),a=n(e("448a")),i=n(e("c973")),r=e("fdf1"),c={data:function(){return{params:{query:"",cid:"",pagenum:1,pagesize:10},goodsList:[],totalPage:0,showTop:!1}},components:{Search:function(){e.e("components/Search/search").then(function(){return resolve(e("8dde"))}.bind(null,e)).catch(e.oe)},NavBar:function(){e.e("components/NavBar/navbar").then(function(){return resolve(e("0677"))}.bind(null,e)).catch(e.oe)},GoodsItem:function(){e.e("components/Goods_item/goods_item").then(function(){return resolve(e("c889"))}.bind(null,e)).catch(e.oe)}},methods:{getGoodsList:function(){var t=this;return(0,i.default)(s.default.mark((function o(){var e,n;return s.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,(0,r.getGoodsListAPI)(t.params);case 2:e=o.sent,n=e.data,t.totalPage=Math.ceil(n.message.total/t.params.pagesize),t.goodsList=[].concat((0,a.default)(t.goodsList),(0,a.default)(n.message.goods));case 6:case"end":return o.stop()}}),o)})))()},tabChange:function(t){0===t?this.goodsList=this.goodsList.sort((function(t,o){return o.goods_id-t.goods_id})):1===t?this.goodsList=this.goodsList.sort((function(t,o){return t.add_time-o.add_time})):2===t&&(this.goodsList=this.goodsList.sort((function(t,o){return t.goods_price-o.goods_price})))},loadMore:function(){this.params.pagenum++,this.getGoodsList()},toTop:function(){t.pageScrollTo({scrollTop:0,duration:300})}},onLoad:function(t){this.params.query=t.query,this.params.cid=t.cid,this.getGoodsList()},onPullDownRefresh:function(){this.params.pagenum=1,this.goodsList=[],this.getGoodsList()},onReachBottom:function(){this.params.pagenum>=this.totalPage?t.showToast({title:"没有更多了哦~",icon:"none"}):this.loadMore()},onPageScroll:function(t){this.showTop=t.scrollTop>500}};o.default=c}).call(this,e("543d")["default"])},"46b3":function(t,o,e){"use strict";var n=e("5fdd"),s=e.n(n);s.a},"5fdd":function(t,o,e){},"893b":function(t,o,e){"use strict";e.r(o);var n=e("a1d5"),s=e("1dfa");for(var a in s)["default"].indexOf(a)<0&&function(t){e.d(o,t,(function(){return s[t]}))}(a);e("46b3");var i=e("f0c5"),r=Object(i["a"])(s["default"],n["b"],n["c"],!1,null,"0b2fb780",null,!1,n["a"],void 0);o["default"]=r.exports},a1d5:function(t,o,e){"use strict";e.d(o,"b",(function(){return n})),e.d(o,"c",(function(){return s})),e.d(o,"a",(function(){}));var n=function(){var t=this.$createElement;this._self._c},s=[]}},[["219d","common/runtime","common/vendor"]]]);